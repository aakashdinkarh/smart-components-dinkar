[
    {
        "title": "Inside your project folder, Create a git project",
        "code": "git init",
        "key": "1"
    },
    {
        "title": "Initiate the project",
        "code": "npm init -y",
        "key": "2"
    },
    {
        "title": "Setup React",
        "key": "3",
        "nestedSteps": [
            {
                "title": "Install <code class=\"package\">react</code> <code class=\"package\">react-dom</code> <code class=\"package\">react-script</code> as devDependency",
                "code": "npm install --save-dev react react-dom react-script",
                "key": "3.1"
            },
            {
                "title": "Add a new script command",
                "subText": "Add the following to <code class=\"file\">package.json > scripts</code>",
                "code": "\"start\": \"react-scripts start\",\n\"build\": \"react-scripts build\"",
                "key": "3.2"
            },
            {
                "title": "Create a new file with the following content",
                "subText": "<code class=\"file\">public/index.html</code>",
                "code": "<!DOCTYPE html>\n\t<html lang=\"en\" >\n\t \n\t<head>\n\t\t<meta charset=\"utf-8\" /> \n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t<meta name=\"theme-color\" content=\"#000000\" />\n\t\t<meta name=\"description\" content=\"Library test site\" />\n\t\t<title>React App</title>\n\t</head>\n\t\n\t<body>\n\t\t<noscript>You need to enable JavaScript to run this app.</noscript>\n\t\t<div id=\"root\"></div>\n\t</body>\n</html>",
                "key": "3.3"
            },
            {
                "title": "Create a new file with the following content",
                "subText": "<code class=\"file\" >src/index.js</code>",
                "code": "import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(\n\t<React.StrictMode>\n\t\t<h1>Hello World!!</h1>\n\t</React.StrictMode>\n);",
                "key": "3.4"
            },
            {
                "title": "Now you will be able to start development server with the following",
                "code": "npm run start",
                "key": "3.5"
            }
        ]
    },
    {
        "title": "Create a reusable component say with the following content",
        "subText": "<code class=\"file\">src/components/ButtonWrapper.js</code>",
        "code": "import React from 'react';\n\nexport function ButtonWrapper({ children, ...rest }){\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tonMouseOut={() => {\n\t\t\t\talert('You left out of button');\n\t\t\t}}\n\t\t\t{...rest}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t)\n}",
        "key": "4"
    },
    {
        "title": "Use and test this component",
        "subText": "Let's render this component in <code class=\"file\">src/index.js</code>",
        "code": "import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport { ButtonWrapper } from './components/ButtonWrapper';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(\n\t<React.StrictMode>\n\t\t<h1>Hello World!!</h1>\n\t\t<ButtonWrapper>Move mouse out of me and get alert</ButtonWrapper>\n\t</React.StrictMode>\n);",
        "key": "5"
    },
    {
        "title": "Create one common entry point to your package",
        "subText": "Export all your components that need to be exposed in one file, say <code class=\"file\">src/exports.js</code>",
        "code": "export { ButtonWrapper } from './components/ButtonWrapper'",
        "key": "6"
    },
    {
        "title": "Setup your build system with rollup",
        "key": "7",
        "nestedSteps": [
            {
                "title": "Install the following packages",
                "code": "npm install --save-dev rollup @rollup/plugin-node-resolve @rollup/plugin-commonjs @rollup/plugin-babel @rollup/plugin-json @babel/preset-react",
                "key": "7.1"
            },
            {
                "title": "Setup the build system, Create the config file <code class=\"file\">rollup.config.mjs</code> with the following content",
                "code": "import path from \"path\";\nimport resolve from \"@rollup/plugin-node-resolve\";\nimport commonjs from \"@rollup/plugin-commonjs\";\nimport babel from \"@rollup/plugin-babel\";\nimport json from \"@rollup/plugin-json\";\n\nexport default {\n  input: \"src/exports.js\",\n  output: [\n    {\n      file: path.resolve(\"dist/index.cjs\"),\n      format: \"cjs\", // CommonJS (for Node)\n      exports: \"named\",\n    },\n    {\n      file: path.resolve(\"dist/index.js\"),\n      format: \"esm\", // ES Module (tree shakeable)\n      exports: \"named\",\n    },\n  ],\n  external: [\"react\", \"react-dom\"],\n  plugins: [\n    resolve(),\n    json(),\n    babel({\n      babelHelpers: \"bundled\",\n      exclude: \"node_modules/**\",\n      presets: [\"@babel/preset-react\"],\n      extensions: [\".js\", \".jsx\"],\n    }),\n    commonjs(),\n  ],\n};\n",
                "key": "7.2"
            },
            {
                "title": "Add the following script to <code class=\"file\">package.json > scripts</code>",
                "code": "\"build\": \"rm -rf dist && rollup -c\",",
                "key": "7.3"
            },
            {
                "title": "Add the following to <code class=\"file\">package.json</code>",
                "code": "  \"main\": \"dist/index.js\",\n  \"module\": \"dist/index.js\",\n  \"exports\": {\n    \".\": {\n      \"import\": \"./dist/index.js\",\n      \"require\": \"./dist/index.cjs\"\n    }\n  },\n  \"files\": [\n    \"dist\"\n  ],\n  \"peerDependencies\": {\n    \"react\": \">=18.2.0\",\n    \"react-dom\": \">=18.2.0\"\n  },",
                "key": "7.4"
            }
        ]
    },
    {
        "title": "Build locally and test before prod-build & publish",
        "key": "8",
        "nestedSteps": [
            {
                "title": "Build the package",
                "subText": "Run the following command and it will create a build folder named <code class=\"file\">dist</code> at root",
                "code": "npm run build",
                "key": "8.1"
            },
            {
                "title": "Create a pack file locally",
                "subText": "Run the following command and it will create a <code class=\"file\">*.tgz</code> file at the root",
                "code": "npm pack",
                "key": "8.2"
            },
            {
                "title": "Try to install this local pack created and test if all good",
                "subText": "Copy the absolute path of pack file created and run the following command to your other project where you want to install this package and test it out",
                "code": "npm install <file_path_to_your_package>",
                "key": "8.3"
            },
            {
                "title": "Import and use in other project",
                "subText": "Since we exported our components named we should do named imports",
                "code": "import { ButtonWrapper } from <your_package_name>",
                "key": "8.4"
            }
        ]
    },
    {
        "title": "Here is the final copy of <code class=\"file\">package.json</code> file for reference",
        "code": "{\n\t\"name\": \"my-package\",\n\t\"version\": \"1.0.0\",\n\t\"description\": \"\",\n\t\"main\": \"dist/index.js\",\n\t\"module\": \"dist/index.js\",\n\t\"exports\": {\n\t\t\".\": {\n\t\t\t\"import\": \"./dist/index.js\",\n\t\t\t\"require\": \"./dist/index.cjs\"\n\t\t}\n\t},\n\t\"files\": [\n\t\t\"dist\"\n\t],\n\t\"peerDependencies\": {\n\t\t\"react\": \">=18.2.0\",\n\t\t\"react-dom\": \">=18.2.0\"\n\t},\n\t\"sideEffects\": false,\n\t\"scripts\": {\n\t\t\"start\": \"npx react-scripts start\",\n\t\t\"build\": \"rm -rf dist && rollup -c\"\n\t},\n\t\"keywords\": [],\n\t\"author\": \"\",\n\t\"license\": \"ISC\",\n\t\"devDependencies\": {\n\t\t\"@babel/preset-react\": \"7.27.1\",\n\t\t\"@rollup/plugin-babel\": \"6.0.4\",\n\t\t\"@rollup/plugin-commonjs\": \"28.0.6\",\n\t\t\"@rollup/plugin-json\": \"6.1.0\",\n\t\t\"@rollup/plugin-node-resolve\": \"16.0.1\",\n\t\t\"react\": \"19.1.1\",\n\t\t\"react-dom\": \"19.1.1\",\n\t\t\"react-script\": \"2.0.5\",\n\t\t\"rollup\": \"4.50.1\"\n\t},\n\t\"browserslist\": {\n\t\t\"production\": [\n\t\t\t\">0.2%\",\n\t\t\t\"not dead\",\n\t\t\t\"not op_mini all\"\n\t\t],\n\t\t\"development\": [\n\t\t\t\"last 1 chrome version\",\n\t\t\t\"last 1 firefox version\",\n\t\t\t\"last 1 safari version\"\n\t\t]\n\t}\n}",
        "key": "9"
    },
    {
        "title": "Now that we have tested out our package locally we should publish it",
        "subText": "Please note version in <code class=\"file\">package.json</code>, every time you actually publish your package you should increase the version number",
        "key": "10",
        "nestedSteps": [
            {
                "title": "Create an account on npm",
                "subText": "Go to <a href=\"https://www.npmjs.com/signup\" target=\"_blank\">https://www.npmjs.com/signup</a> and create an account if you don't have one",
                "code": "https://www.npmjs.com/signup",
                "key": "10.1"
            },
            {
                "title": "Login to npm",
                "subText": "Go to <a href=\"https://www.npmjs.com/login\" target=\"_blank\">https://www.npmjs.com/login</a> and login with your account",
                "code": "https://www.npmjs.com/login",
                "key": "10.2"
            },
            {
                "title": "Login on your terminal",
                "subText": "After creating the account, open your terminal and run the following command in the root of your package",
                "code": "npm login",
                "key": "10.3"
            },
            {
                "title": "Login success",
                "subText": "You will get a prompt to enter your username and password. If login is successful, you should see a message like this",
                "code": "Logged in as <your-username> on https://registry.npmjs.org/",
                "key": "10.4"
            },
            {
                "title": "Publish the package",
                "subText": "After Login success, run the following command to publish your package on the NPM registry",
                "code": "npm publish",
                "key": "10.5"
            },
            {
                "title": "Publish success",
                "subText": "You will get a message like this if your package is published successfully",
                "code": "npm notice\n+ my-package@1.0.0\nupdated 1 package and audited 1 package in 1s\nfound 0 vulnerabilities",
                "key": "10.6"
            },
            {
                "title": "Search for your package on NPM",
                "subText": "Go to <a href=\"https://www.npmjs.com\" target=\"_blank\">https://www.npmjs.com</a> and search for your package",
                "code": "https://www.npmjs.com",
                "key": "10.7"
            }
        ]
    },
    {
        "title": "Upgrading the package version",
        "subText": "Once we published our package, we might want to upgrade our package to provide more or improve the package",
        "code": "npm version patch // bug-fix changes 1.0.0 -> 1.0.1 \nnpm version minor // minor changes 1.0.0 -> 1.1.0 \nnpm version major // major changes 1.0.0 -> 2.0.0",
        "key": "11"
    }
]
